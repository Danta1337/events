<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://unpkg.com/mdui@1.0.2/dist/css/mdui.min.css"/>
    <script src="https://unpkg.com/mdui@1.0.2/dist/js/mdui.min.js"></script>
</head>
<body class="mdui-theme-primary-blue mdui-theme-accent-pink mdui-color-grey-400">
<div class="mdui-appbar">
    <div class="mdui-toolbar mdui-color-theme">

        <a href="javascript:" class="mdui-typo-title mdui-center">Ch1tanda Event</a>

    </div>
</div>
<div class="mdui-card mdui-center mdui-m-t-5" style="max-width: 600px">
    <!-- 卡片的标题和副标题 -->
    <div class="mdui-card-primary mdui-m-t-5">
        <div class="mdui-typo-display-2 mdui-text-center">注册成功</div>
        <div class="mdui-card-primary-subtitle mdui-text-center">请输入信息</div>
    </div>

    <!-- 卡片的内容 -->
    <div class="mdui-card-content">
        <form class="mdui-m-x-5">
            <div class="mdui-textfield mdui-textfield-floating-label">
                <label class="mdui-textfield-label">用户名</label>
                <input disabled name="username" class="mdui-textfield-input" type="text" required/>
            </div>

            <div class="mdui-textfield mdui-textfield-floating-label">
                <label class="mdui-textfield-label">电子邮箱</label>
                <input disabled name="email" class="mdui-textfield-input" type="email" required minlength="6"/>
            </div>

            <a class="mdui-btn mdui-btn-block mdui-btn-raised mdui-ripple mdui-color-theme-accent mdui-m-y-5">
                前往登录
            </a>
        </form>
    </div>

</div>
</body>
<script>
    let verifyCodeCountDown = 60;

    function sendVerifyCode() {
        const email = document.getElementsByName("email")[0];
        if (!email.validity.valid) {
            mdui.alert('', '邮箱格式不正确')
            return
        }

        const btn = document.getElementsByName("sendVerifyCodeBtn")[0];
        btn.disabled = true
        btn.innerText = verifyCodeCountDown + "秒后重试"
        const countDown = setInterval(() => {
            verifyCodeCountDown--
            btn.innerText = verifyCodeCountDown + "秒后重试"
        }, 1000);

        setTimeout(() => {
            clearInterval(countDown)
            verifyCodeCountDown = 60
            btn.innerText = "发送验证码"
            btn.disabled = false
        }, 60 * 1000)

        mdui.alert('', '发送成功')

        fetch("/register/sendVerifyCode?email=" + email.value)
    }
</script>

</html>